<nav class="w-full bg-white shadow-sm z-10" data-id="2">
  <div class="px-4 sm:px-6 lg:px-8" data-id="3">
    <div class="max-w-7xl mx-auto flex justify-between h-16" data-id="4">
      <a href="/dashboard" class="flex items-center" data-id="5">
        <span class="text-3xl font-bold text-gray-900" data-id="6"><%=user.agencyName ? user.agencyName : "Immobiliere Prestige" %></span>
      </a>
      <div class="flex items-center gap-2">
        <a href="#" id="logoutButton" class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 h-10 px-3 py-1 disabled:pointer-events-none disabled:opacity-50 w-full bg-destructive text-destructive-foreground hover:bg-destructive/90" type="submit">
          Se Deconnecter
        </a>
        <button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground px-4 py-2 relative h-8 w-8 rounded-full" data-id="11" type="button" id="radix-:r0:" aria-haspopup="menu" aria-expanded="false" data-state="closed">
          <span class="relative flex shrink-0 overflow-hidden rounded-full h-8 w-8" data-id="12">
            <span class="flex capitalize h-full w-full items-center justify-center rounded-full bg-muted" id="agentName">
              <%=user.username.split(" ").map((word) => word[0].toUpperCase()).join(""); %>
            </span>
          </span>
          </span>
        </button>
      </div>
    </div>
  </div>
</nav>
<script>
  document.getElementById('logoutButton').addEventListener('click', function(event) {
    event.preventDefault();
    fetch('/api/logout', {
      method: 'POST',
      credentials: 'same-origin'
    })
    .then(response => {
      if (response.ok) {
        window.location.href = '/auth/login'; // Redirect to login page after logout
      } else {
        console.error('Logout failed');
      }
    })
    .catch(error => console.error('Error:', error));
  });
</script>