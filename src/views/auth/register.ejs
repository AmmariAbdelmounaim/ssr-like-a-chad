<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/styles/styles.css" rel="stylesheet" />
  </head>

  <body class="flex items-center justify-center min-h-screen bg-gray-100">
    <!-- Card -->
    <div
      class="rounded-lg border bg-card text-card-foreground shadow-sm w-full max-w-md"
    >
      <!-- Card Header -->
      <div class="flex flex-col w-full space-y-1 p-6">
        <!-- Card Title -->
        <div
          class="text-2xl font-semibold text-center leading-none tracking-tight"
        >
          Enregistrez-vous
        </div>
        <!-- Card Description -->
        <div class="text-sm text-center text-muted-foreground">
          Créez votre compte
        </div>
      </div>
      <!-- Card Content -->
      <div class="p-6 pt-0 space-y-4">
        <!-- Error Message -->
        <div
          class="hidden p-2 rounded-md text-destructive border border-destructive w-full text-md items-center justify-center"
          id="error"
        ></div>
        <!-- Form Switcher Buttons -->
        <div class="w-full flex items-center justify-center">
          <div class="p-1 rounded-lg bg-gray-200 flex gap-1">
            <button
              id="utilisateurBtn"
              class="bg-primary text-primary-foreground px-4 py-2 rounded-lg"
              onclick="showForm('utilisateur')"
            >
              Utilisateur
            </button>
            <button
              id="agentBtn"
              class="bg-transparent text-foreground px-4 py-2 rounded-lg"
              onclick="showForm('agent')"
            >
              Agent immobilier
            </button>
          </div>
        </div>

        <!-- Utilisateur Form -->
        <form
          id="utilisateurForm"
          class="space-y-4"
          onsubmit="validateUtilisateurForm(event)"
        >
          <div class="space-y-2">
            <label
              class="text-sm font-medium leading-none"
              for="nom-utilisateur"
              >Nom</label
            >
            <input
              class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
              id="nom-utilisateur"
              name="username"
              placeholder="John Doe"
              type="text"
            />
            <p
              id="nom-utilisateur-error"
              class="text-destructive text-sm hidden"
            ></p>

            <label
              class="text-sm font-medium leading-none"
              for="email-utilisateur"
              >Email</label
            >
            <input
              class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
              id="email-utilisateur"
              name="email"
              placeholder="nom@exemple.com"
              type="email"
            />
            <p
              id="email-utilisateur-error"
              class="text-destructive text-sm hidden"
            ></p>
          </div>
          <div class="space-y-2">
            <label
              class="text-sm font-medium leading-none"
              for="password-utilisateur"
              >Mot de passe</label
            >
            <input
              class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
              id="password-utilisateur"
              name="password"
              type="password"
            />
            <p
              id="password-utilisateur-error"
              class="text-destructive text-sm hidden"
            ></p>
            <input type="hidden" name="role" value="user" />
          </div>
          <button
            class="inline-flex items-center justify-center rounded-md text-sm font-medium bg-primary text-primary-foreground h-10 px-4 py-2 w-full hover:bg-primary/90"
            type="submit"
          >
            S'enregistrer
          </button>
        </form>

        <!-- Agent Immobilier Form (Initially Hidden) -->
        <form
          id="agentForm"
          class="space-y-4 hidden"
          onsubmit="validateAgentForm(event)"
        >
          <div class="space-y-2">
            <label class="text-sm font-medium leading-none" for="nom-agent"
              >Nom</label
            >
            <input
              class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
              id="nom-agent"
              name="username"
              placeholder="John Doe"
              type="text"
            />
            <p id="nom-agent-error" class="text-destructive text-sm hidden"></p>

            <label class="text-sm font-medium leading-none" for="email-agent"
              >Email</label
            >
            <input
              class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
              id="email-agent"
              name="email"
              placeholder="agent@exemple.com"
              type="email"
            />
            <p
              id="email-agent-error"
              class="text-destructive text-sm hidden"
            ></p>
          </div>
          <div class="space-y-2">
            <label class="text-sm font-medium leading-none" for="password-agent"
              >Mot de passe</label
            >
            <input
              class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
              id="password-agent"
              name="password"
              type="password"
            />
            <p
              id="password-agent-error"
              class="text-destructive text-sm hidden"
            ></p>
          </div>
          <div class="space-y-2">
            <label class="text-sm font-medium leading-none" for="company"
              >Nom de l'entreprise</label
            >
            <input
              class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
              id="company"
              name="company"
              placeholder="Nom de l'entreprise"
              type="text"
            />
            <p id="company-error" class="text-destructive text-sm hidden"></p>
          </div>
          <input type="hidden" name="role" value="agent" />
          <button
            class="inline-flex items-center justify-center rounded-md text-sm font-medium bg-primary text-primary-foreground h-10 px-4 py-2 w-full hover:bg-primary/90"
            type="submit"
          >
            S'enregistrer
          </button>
        </form>
      </div>

      <!-- Card footer -->
      <div class="flex justify-center items-center p-6 pt-0">
        <p class="text-sm text-muted-foreground">
          Déjà un compte ?
          <a href="/auth/login" class="text-primary hover:underline">
            Se connecter
          </a>
        </p>
      </div>
    </div>
  </body>
  <!-- JavaScript -->
  <script src="/js/register.js"></script>
</html>
